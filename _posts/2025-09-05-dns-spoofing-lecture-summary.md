---
title: "DNS 스푸핑, 정말 '구글'이 맞을까요? (강의 내용 정리)"
excert: "DNS 스푸핑의 원리와 최신 동향, 그리고 우리가 할 수 있는 예방법에 대한 강의 내용을 정리한 글이다."
categories:
  - sec
tags:
  - 오셜콘
  - OCIAL
  - dns
  - spoofing
  - phishing
  - security
  - rust
date: 2025-08-27 19:30:00 +0900
last_modified_at: 2025-08-27T19:30:00+09:00

toc_label: "INDEX"
toc: true
toc_sticky: true

author_profile: true
sitemap :
  changefreq : daily
  priority : 1.0
---

# 정말 '구글'이 맞을까?

얼마 전, 오셜콘에서 비전공자를 포함한 대상으로 DNS 스푸핑의 위험성에 대해 강의할 기회가 있었다. "단 한 번의 클릭으로 모든 것을 잃는 방법"이라는 다소 자극적인 부제와 함께, "정말 '구글'이 맞을까요?"라는 질문을 던지며 시작했던 그 내용을 여기에 정리해본다.

<img src="/assets/images/dns-spoofing/main.png"/>

## 우리가 구글에 접속하는 법: DNS의 역할

우리는 보통 주소창에 `www.google.com` 같은 '도메인 주소'를 입력한다. 하지만 컴퓨터는 사실 'IP 주소'라는 숫자 주소(예: `172.217.25.174`)를 사용해 통신한다. 이때 '도메인 주소'를 'IP 주소'로 번역해주는 역활을 하는것이 바로 **DNS(Domain Name System)**이며 이러한 매핑정보가 저장되어 있는 것이 **DNS Server**이다.

문제는 이 DNS는 조작될 수 있다는 것이다. `naver.com`을 입력했지만 다음으로 갈 수도 있고 `daum.net`은 네이버로 `google.com`은 누군가 구글처럼 생긴 가짜 사이트로도 이동하게 할 수 있다는거다.

## 미끼, 혹은 위장

DNS 스푸핑 공격을 시연하기 위해, 시스템의 DNS 설정을 조작하는 간단한 프로그램을 Rust로 제작하여 시연을 해보았다.

물론, 이 코드는 악용될 소지가 다분하므로 코드를 공개하지는 않을 것이다. 중요한 것은 '무엇으로 만들었는가'가 아니라, '어떻게 속이는가'이다.

## 넌 이미 속아있다: 확장자의 마술

공격의 핵심은 사용자가 악성 파일을 의심 없이 실행하게 만드는 것이다. 가장 고전적이면서도 효과적인 방법이 바로 파일 확장자를 이용한 속임수다.

<img src="/assets/images/dns-spoofing/fake-pptx-exe.png"/>

위 스크린샷처럼, 공격자는 `DNS_Spoofing.pptx.exe`와 같이 실행 파일(.exe)을 파워포인트 파일(.pptx)처럼 보이게 만든다. 윈도우의 기본 설정은 '알려진 파일 형식의 확장명 숨기기'가 켜져 있기 때문에, 사용자에게는 이 파일이 그저 `DNS_Spoofing.pptx`로만 보인다. 아이콘까지 파워포인트 모양으로 바꾸면 감쪽같다.

## 그래서, 결과는?

사용자가 이 위장된 파일을 발표 자료인 줄 알고 더블 클릭하는 순간, 보이지 않는 곳에서는 Rust로 작성된 코드가 실행된다. 그리고 시스템의 DNS 설정은 해커가 의도한 가짜 주소로 변경된다.

그 이후부터 사용자가 `www.google.com`에 접속하면, 진짜 구글이 아닌 해커가 만들어 둔 피싱 사이트로 접속하게 된다. 모든 과정은 너무나 자연스러워서 사용자는 자신의 정보가 털리는 것조차 인지하기 어렵다.

<img src="/assets/images/dns-spoofing/phishing_before.png"/>
<img src="/assets/images/dns-spoofing/phishing_after.png"/>

## 철벽 수비: 생존 수칙

그렇다면 우리는 어떻게 스스로를 지킬 수 있을까?

1.  **검증된 파일만 다운로드한다.**
    출처가 불분명한 이메일의 첨부파일이나 링크는 절대 열지 않고 블로그, 토렌트 같은곳이 아닌 정식 사이트에서 정품만 사용한다.

2.  **관리자 권한 요구는 신중히 한다.**
    신뢰할 수 없는 프로그램이 시스템을 변경하려는 '관리자 권한'을 요구하면 진짜 해당 프로그램이 관리자 권한이 필요한 프로그램인지 한번 더 확인하고 생각하고 누른다.

3.  **파일 확장자를 항상 확인한다.**
    윈도우 탐색기 '보기' 탭에서 '파일 확장명' 체크박스를 항상 켜두는 습관을 들인다. 이것만으로도 많은 위장 파일을 걸러낼 수 있다.

4.  **의심스러운 파일은 격리된 환경에서 연다.**
    꼭 열어봐야 하는 출처 불명의 파일(이력서 등)이 있다면, 가상머신(VM)처럼 감염되어도 괜찮은 환경에서 열어보는 것이 안전하다.

추가로 백신 꼭 사용하자 누군가 백신을 꺼라, 우회하라, 잠시 멈춰야 설치 가능하다 하면 그건 당신을 속여먹겠다라는 것을 잊지 말자

## 발표를 하고 느낀점

내가 오셜콘에서 발표를 어떤식으로 할지 스토리를 구상한게

1. 이상한 PPT 이거 진짜 발표자료 맞아? 제대로 준비 안했네 싶은거 + 앞에 2개의 슬라이드만 있도 잘림 으로 구성 된 PPT를 보여주면서 긴장한척 한다.
2. 어 이거 왜이러지 하면서 당황하고(하는척) ppt를 종료 후 악성파일 실행
3. 어 이거 왜 오류나 하면서(악성파일 실행하면 오류인척 메세지 박스 뜸) 네이버 들어감
4. 그런데 다음이 들어가짐(주소는 naver.com 그대로)
5. 그래서 다음 들어가보니 네이버네
6. 그럼 구글로가니 아 이제 구글이구나 로그인 하자
7. 사실 피싱사이트임 ㅅㄱ 시전
8. 숨 한번 고르고 진짜 PPT로 이동하면서 "네 안녕하세요 다시 인사드리겠습니다. DNS스푸핑을 주제로 발표를 맞게된 sudo-G41입니다." 하고 진짜 발표 시작

으로 시작하면서 강렬하게 인상 남기려 했는데.... 분명 시작 전까지 테스트 했단말이지? zoom까지 키면서?

근데 여기서 예상 못한 상황이 2가지 발생을....

1. hdmi연결 안됨
- 이건 수열이형 노트북으로 연결하고 zoom 내화면 공유 보는것으로 해결함
2. 오프라인 참석자가 많아서 와이파이 느려짐
- 네트워크 연결이 느려지면서 프록시에 타임아웃 발생 시연 실....패......

와 이건 진짜 상상도 못했는데 이런 문제로 계획은 망해버렸어...

그래서 다 포기하고 5분간 휴식 해주셔서 그때 빠르게 조치하고 다시 시작했을때
네이버 접속(쉬는시간동안 켜두기) -> 다시 발표 시작 -> 파폭 종료 -> 악성코드 실행 -> 엣지 실행 -> 네이버 접속 -> 다음 접속 -> 구글 접속 -> 피싱확인을 대략적으로 설명하면서 보여주고

사실 실수인척 보여드리려 했는데 이렇게 되었네요 하고 발표했다.... 왜..... 하... 내 방대한 계획이....

그래도 준비하며서 재미있었고 사람들이 내 발표 재미있었다고 해줘서 좋았다.  
(아.. Q&A시간에 어느분이 질문한다면서 내꺼 비판만하고 지적질하긴 했지만 내 발표 제대로 안들은거라서 조금 화가나도 아 이건 비전공자도 듣는다 가정하고 발표한거라 재미 위주로 한거라 깊게는 안했다, 그리고 후이즈도 프록시로 도메인은 정상적인 도메인 보이게 했는데 어떻게 하냐, 백신 이야기 하지 않았냐 라고 해명은 했다.)

뭐 진짜 깊게 안하기도 했고 사실 초반 예상치 못한 문제덕에 긴장해버려서 DNS 변조 하는 것이 DNS 스푸핑이다 라는 이야기를 빼먹어버려 전공한 사람(진짜전공했는지는 모름)입장에서는 악성파일 주의로 보이긴 했을지도...

다음에 또 오셜콘 나간다면 그런점 조심해야지

다음에는 뭘 할까 고민되네
:wq